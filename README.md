# Digital Garden

A minimal Astro site centered on a single stream: `learning.log`.

## What it is

`learning.log` combines:
- project activity updates
- notes, snippets, essays, and links/resources

into one chronological feed at `/` with quick filters and deep links.

## Routes

- `/` - `learning.log` stream
- `/about/` - About and contact
- `/notes/[slug]/` - Note detail pages
- `/projects/[slug]/` - Project detail pages with activity feed
- `/rss.xml` - Unified RSS feed
- `/api/subscribe` - Newsletter subscribe endpoint

## Newsletter Runbook

Required env vars:

- `RESEND_API_KEY`
- `RESEND_AUDIENCE_ID`
- `RESEND_FROM_EMAIL` (optional in dev, recommended in production)
- `SITE_URL` (optional for absolute links in newsletter content)
- `NEWSLETTER_AUTOSEND=false` (keeps scheduled workflow disabled)

Generate preview artifacts:

```bash
npm run newsletter:preview -- --type=daily
```

Send newsletter manually (explicit confirmation required):

```bash
npm run newsletter:send -- --type=daily --confirm=true
```

Preview files are written to `.tmp/newsletter-preview/` as HTML, text, and summary JSON.

## Quick Start

```bash
npm install
npm run dev
npm run build
```

## Content Model

Content lives in `src/content/` with two collections:

- `notes/` - essay, link, snippet, thought
- `projects/` - project metadata + structured `activity` events

The home stream is generated by normalizing both collections via `src/lib/learning-log.ts`.

## Config Notes

- Nav + site chrome: `src/layouts/Base.astro`
- Stream page/UI: `src/pages/index.astro`
- Stream normalization + anchors: `src/lib/learning-log.ts`
- Astro output mode: `astro.config.mjs` (`output: 'server'`)

## Deployment

Configured for Vercel via `@astrojs/vercel` adapter.

## License

MIT
